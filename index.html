<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>小狐狸与大狮子的信箱</title>
<link rel="stylesheet" href="style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;400;700&display=swap" rel="stylesheet">
<meta name="color-scheme" content="light dark" />
</head>
<body>
<header class="topbar">
<div class="brand">
<div class="logo" aria-hidden="true">
<svg viewBox="0 0 64 64" class="mark">
<path d="M10 40c10-8 14-18 14-26 8 8 12 18 10 30-1 6-5 12-12 14-6 2-10-1-12-5z" />
<path d="M40 18c8 0 14 6 14 14 0 10-8 18-18 18-8 0-14-6-14-14 0-10 8-18 18-18z" opacity=".35"/>
<path d="M41 16c8 2 14 10 14 18 0 12-10 22-22 22-4 0-8-1-11-3 4 1 8 0 12-2 8-4 12-12 10-22-1-6-2-9-3-13z" opacity=".18"/>
</svg>
</div>
<div class="brand-text">
<h1>小狐狸与大狮子的信箱</h1>
<p>把温柔收纳起来，想你的时候就拆一封信。</p>
</div>
</div>
<div class="actions">
<button id="toggleView" class="btn ghost" type="button" title="切换星轨视图">🌌</button>
<button id="toggleTheme" class="btn ghost" type="button" title="切换夜间模式">🌙</button>
<button id="showFavorites" class="btn ghost" type="button" title="只看收藏">⭐</button>
</div>
</header>
<main class="container">
<section class="controls">
<div class="searchbox">
<input id="search" type="search" placeholder="搜索标题、标签、正文关键词…" autocomplete="off" />
</div>
<div class="filters">
<div id="tagBar" class="tagbar" aria-label="标签筛选"></div>
</div>
</section>
<section>
<div id="grid" class="grid" aria-live="polite"></div>
<div id="empty" class="empty hidden">
<div class="empty-card">
<h2>这里还没有信</h2>
<p>你可以先把第一封信放进 <code>letters/</code>，然后在 <code>letters/manifest.json</code> 登记它。</p>
</div>
</div>
</section>
</main>
<div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="阅读信件">
<div class="modal-backdrop" id="closeModal"></div>
<div class="modal-card">
<div class="modal-top">
<div class="modal-meta">
<div class="modal-title" id="mTitle">标题</div>
<div class="modal-sub" id="mSub">日期 · 心情 · 标签</div>
</div>
<div class="modal-actions">
<button id="favBtn" class="btn" type="button" title="收藏这封信">⭐ 收藏</button>
<button id="copyBtn" class="btn ghost" type="button" title="复制正文">📋</button>
<button id="xBtn" class="btn ghost" type="button" title="关闭">✕</button>
</div>
</div>
<article id="mBody" class="letter" tabindex="0"></article>
<div class="modal-nav">
<button id="prevBtn" class="btn ghost" type="button">← 上一封</button>
<button id="nextBtn" class="btn ghost" type="button">下一封 →</button>
</div>
</div>
</div>
<footer class="footer">
<span>🦊🦁</span>
<span class="dot">•</span>
<span>把信留给未来的你们</span>
</footer>
<div id="safe-door" class="door-overlay">
    <div class="door-card">
        <div class="door-icon">🦊🔒🦁</div>
        <h2>小狐狸•大狮子安全屋</h2>
        <p>请输入我们之间的“暗号”</p>
        
        <div class="input-group">
            <input type="password" id="door-key" placeholder="例如：我们的纪念日" />
            <button id="open-btn">进入</button>
        </div>
        <p id="error-msg" class="error-msg hidden">暗号不对哦，再想想？</p>
    </div>
</div>
<script src="app.js"></script>
</body>
</html>