<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½æ³½å†™ç»™å°ç‹ç‹¸çš„ä¿¡</title>
    <style>
        :root {
            --bg: #0f1216;
            --card: rgba(255,255,255,.06);
            --card2: rgba(255,255,255,.09);
            --text: rgba(255,255,255,.92);
            --muted: rgba(255,255,255,.68);
            --line: rgba(255,255,255,.14);
            --paper: #f6f0e7;
            --ink: #1d1b18;
            --fox: #ff7b3a;
            --lion: #f2c14e;
            --mint: #86efac;
            --shadow: 0 16px 50px rgba(0,0,0,.45);
            --radius: 18px;
            --font: ui-sans-serif, system-ui, -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
        }

        body {
            margin: 0;
            font-family: var(--font);
            background: radial-gradient(900px 700px at 15% 10%, rgba(255,123,58,.22), transparent 55%),
                        radial-gradient(900px 700px at 85% 20%, rgba(242,193,78,.22), transparent 55%),
                        radial-gradient(1200px 900px at 50% 100%, rgba(134,239,172,.1), transparent 55%),
                        var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        .container { max-width: 980px; margin: 0 auto; padding: 20px; }
        .topbar { position: sticky; top: 0; background: rgba(15,18,22,.8); backdrop-filter: blur(14px); padding: 20px; border-bottom: 1px solid var(--line); z-index: 100; }
        .card { background: var(--card); border: 1px solid var(--line); border-radius: var(--radius); padding: 24px; margin-top: 20px; transition: 0.3s; }
        .card:hover { border-color: var(--fox); transform: translateY(-2px); }
        .letter-content { background: var(--paper); color: var(--ink); padding: 40px; border-radius: 12px; line-height: 1.8; white-space: pre-wrap; margin-top: 20px; }
        .tag { display: inline-block; padding: 4px 12px; border-radius: 999px; background: var(--card2); font-size: 12px; margin-right: 8px; border: 1px solid var(--line); }
        h1 { font-size: 20px; margin: 0; }
        .footer { text-align: center; padding: 40px; color: var(--muted); font-size: 13px; }
    </style>
</head>
<body>

<div class="topbar">
    <div class="container">
        <h1>ğŸ¦ŠğŸ¦ æŠŠä¿¡ç•™ç»™æœªæ¥çš„ä½ ä»¬</h1>
    </div>
</div>

<div class="container" id="app">
    <div id="loading-tip" class="card">
        <h3>ğŸ“« æ­£åœ¨ä»ä»“åº“å–ä¿¡...</h3>
        <p>å¦‚æœé•¿æ—¶é—´ä¸æ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ letters/manifest.json æ˜¯å¦å¡«å†™æ­£ç¡®ã€‚</p>
    </div>
    <div id="letter-list"></div>
</div>

<div class="footer">
    <span>ğŸ¦ŠğŸ¦ Â· æŠŠä¿¡ç•™ç»™æœªæ¥çš„ä½ ä»¬</span>
</div>

<script>
    // è¿™æ®µè„šæœ¬ä¼šè‡ªåŠ¨å»è¯»å–ä½ çš„ manifest.json
    async function loadLetters() {
        try {
            const response = await fetch('letters/manifest.json');
            const data = await response.json();
            const listDiv = document.getElementById('letter-list');
            const tipDiv = document.getElementById('loading-tip');
            
            if (data.length > 0) {
                tipDiv.style.display = 'none';
                for (const item of data) {
                    // è¯»å–å…·ä½“çš„ä¿¡ä»¶å†…å®¹
                    const res = await fetch(item.content);
                    const text = await res.text();
                    
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <div style="color:var(--fox); font-weight:bold; margin-bottom:10px;">${item.date}</div>
                        <h2 style="margin:0 0 15px 0;">${item.title}</h2>
                        <div>${item.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
                        <div class="letter-content">${text}</div>
                    `;
                    listDiv.appendChild(card);
                }
            }
        } catch (e) {
            console.error("åŠ è½½ä¿¡ä»¶å¤±è´¥:", e);
        }
    }
    loadLetters();
</script>

</body>
</html>